{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import{useFocusEffect}from\"@react-navigation/native\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import{Block,Checkbox,Text,Button as GaButton,theme}from'galio-framework';import{Button,Icon,Input}from\"../components\";import{Images,nowTheme}from\"../constants\";import{createStore,combineReducers}from'redux';import{Provider,useDispatch,useSelector}from'react-redux';import{store}from\"../plugin/redux/store\";import{authenticateActions}from\"../action/authenticateActions\";import{locationActions}from\"../action/locationActions\";import{requestActions}from\"../action/requestActions\";import Constants,{AppOwnership}from\"expo-constants\";import{Asset}from\"expo-asset\";var manifest=Constants.manifest,platform=Constants.platform,experienceUrl=Constants.experienceUrl,intentUri=Constants.intentUri,appOwnership=Constants.appOwnership;import{getIpAddressAsync,getMacAddressAsync,getNetworkStateAsync}from\"expo-network\";var url=typeof manifest.packagerOpts===\"object\"&&manifest.packagerOpts.dev?manifest.debuggerHost.split(\":\").shift().concat(\":3000\"):\"api.example.com\";var _Dimensions$get=Dimensions.get('screen'),width=_Dimensions$get.width,height=_Dimensions$get.height;var DismissKeyboard=function DismissKeyboard(_ref){var children=_ref.children;return React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return Keyboard.dismiss();}},children);};function Login(props){var navigation=props.navigation;console.log(store.getState().authenticateReducer.isLoggedIn);if(store.getState().authenticateReducer.isLoggedIn){console.log('yo');}var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRefresh=_useState6[0],setIsRefresh=_useState6[1];var dispatch=useDispatch();useFocusEffect(function(){},[]);function test(){}function handleSubmit(e){console.log(\"running handle submit\");if(username&&password){var name=\"App\";dispatch(authenticateActions.login(username,password,navigation,name)).then(function(res){console.log(\"hehe\",res);dispatch(locationActions.queryLocation());dispatch(requestActions.query(\"\",\"\",\"\",true));}).catch(function(err){console.log(err);});if(store.getState().authenticateReducer.isLoggedIn){console.log(\"truela\");}else{console.log(\"falsela\");}}test();}return React.createElement(DismissKeyboard,null,React.createElement(Block,{flex:true,middle:true},React.createElement(ImageBackground,{source:Images.RegisterBackground,style:styles.imageBackgroundContainer,imageStyle:styles.imageBackground},React.createElement(Block,{flex:true,middle:true},React.createElement(Block,{style:styles.registerContainer},React.createElement(ScrollView,{showsVerticalScrollIndicator:true,contentContainerStyle:styles.articles},React.createElement(Block,{flex:true,space:\"evenly\"},React.createElement(Block,{height:100,flex:true,space:\"evenly\"}),React.createElement(Block,{flex:0.4,middle:true,style:styles.socialConnect},React.createElement(Block,{flex:0.5,middle:true},React.createElement(Text,{style:{fontFamily:'montserrat-regular',textAlign:'center'},color:\"#333\",size:24},\"Logins\"))),React.createElement(Block,{flex:1,middle:true,space:\"between\"},React.createElement(Block,{center:true,flex:0.9},React.createElement(Block,{flex:true,space:\"between\"},React.createElement(Block,null,React.createElement(Block,{width:width*0.8,style:{marginBottom:5}},React.createElement(Input,{placeholder:\"Usernamessss\",onChangeText:function onChangeText(text){return setUsername(text);},value:username,style:styles.inputs,iconContent:React.createElement(Icon,{size:16,color:\"#ADB5BD\",name:\"profile-circle\",family:\"NowExtra\",style:styles.inputIcons})})),React.createElement(Block,{width:width*0.8,style:{marginBottom:5}},React.createElement(Input,{placeholder:\"Password\",style:styles.inputs,onChangeText:function onChangeText(text){return setPassword(text);},value:password,iconContent:React.createElement(Icon,{size:16,color:\"#ADB5BD\",name:\"caps-small2x\",family:\"NowExtra\",style:styles.inputIcons})}))),React.createElement(Block,{center:true},React.createElement(Button,{color:\"primary\",round:true,style:styles.createButton,onPress:function onPress(){return handleSubmit();}},React.createElement(Text,{style:{fontFamily:'montserrat-bold'},size:14,color:nowTheme.COLORS.WHITE},\"Login\"))),React.createElement(Block,{center:true},React.createElement(Button,{color:\"primary\",round:true,style:styles.createButton,onPress:function onPress(){console.log(manifest.bundleUrl,\"  yo  \",manifest.packagerOpts,manifest.packagerOpts.dev,platform,experienceUrl,intentUri,appOwnership,\"url\",url,\"hehe\");getMacAddressAsync().then(function(res){console.log(\"res\",res);});getIpAddressAsync().then(function(res){console.log(\"res\",res);});getNetworkStateAsync().then(function(res){console.log(\"res\",res);});console.log(Asset);}},React.createElement(Text,{style:{fontFamily:'montserrat-bold'},size:14,color:nowTheme.COLORS.WHITE},\"Forgot Password\"))),React.createElement(Block,{center:true},React.createElement(Button,{color:\"primary\",round:true,style:styles.createButton,onPress:function onPress(){return navigation.goBack();}},React.createElement(Text,{style:{fontFamily:'montserrat-bold'},size:14,color:nowTheme.COLORS.WHITE},\"Back\")))))))))))));}var styles=StyleSheet.create({imageBackgroundContainer:{width:width,height:height,padding:0,zIndex:1},imageBackground:{width:width,height:height},registerContainer:{marginTop:55,width:width*0.9,height:height<812?height*0.8:height*0.8,backgroundColor:nowTheme.COLORS.WHITE,borderRadius:4,shadowColor:nowTheme.COLORS.BLACK,shadowOffset:{width:0,height:4},shadowRadius:8,shadowOpacity:0.1,elevation:1,overflow:'hidden'},socialConnect:{backgroundColor:nowTheme.COLORS.WHITE},socialButtons:{width:120,height:40,backgroundColor:'#fff',shadowColor:nowTheme.COLORS.BLACK,shadowOffset:{width:0,height:4},shadowRadius:8,shadowOpacity:0.1,elevation:1},socialTextButtons:{color:nowTheme.COLORS.PRIMARY,fontWeight:'800',fontSize:14},inputIcons:{marginRight:12,color:nowTheme.COLORS.ICON_INPUT},inputs:{borderWidth:1,borderColor:'#E3E3E3',borderRadius:21.5},passwordCheck:{paddingLeft:2,paddingTop:6,paddingBottom:15},createButton:{width:width*0.5,marginTop:15,marginBottom:20},social:{width:theme.SIZES.BASE*3.5,height:theme.SIZES.BASE*3.5,borderRadius:theme.SIZES.BASE*1.75,justifyContent:'center',marginHorizontal:10}});export default Login;","map":{"version":3,"sources":["/Users/yhlau/Arthur/project/wysfyp/frontend副本/screens/Login.js"],"names":["React","useState","useEffect","useFocusEffect","Block","Checkbox","Text","Button","GaButton","theme","Icon","Input","Images","nowTheme","createStore","combineReducers","Provider","useDispatch","useSelector","store","authenticateActions","locationActions","requestActions","Constants","AppOwnership","Asset","manifest","platform","experienceUrl","intentUri","appOwnership","getIpAddressAsync","getMacAddressAsync","getNetworkStateAsync","url","packagerOpts","dev","debuggerHost","split","shift","concat","Dimensions","get","width","height","DismissKeyboard","children","Keyboard","dismiss","Login","props","navigation","console","log","getState","authenticateReducer","isLoggedIn","username","setUsername","password","setPassword","isRefresh","setIsRefresh","dispatch","test","handleSubmit","e","name","login","then","res","queryLocation","query","catch","err","RegisterBackground","styles","imageBackgroundContainer","imageBackground","registerContainer","articles","socialConnect","fontFamily","textAlign","marginBottom","text","inputs","inputIcons","createButton","COLORS","WHITE","bundleUrl","goBack","StyleSheet","create","padding","zIndex","marginTop","backgroundColor","borderRadius","shadowColor","BLACK","shadowOffset","shadowRadius","shadowOpacity","elevation","overflow","socialButtons","socialTextButtons","color","PRIMARY","fontWeight","fontSize","marginRight","ICON_INPUT","borderWidth","borderColor","passwordCheck","paddingLeft","paddingTop","paddingBottom","social","SIZES","BASE","justifyContent","marginHorizontal"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect} from 'react';\nimport {useFocusEffect} from \"@react-navigation/native\";    \nimport {\n  StyleSheet,\n  ImageBackground,\n  Dimensions,\n  StatusBar,\n  TouchableWithoutFeedback,\n  Keyboard,\n  ScrollView,\n  TextInput,\n  Alert\n} from 'react-native';\nimport { Block, Checkbox, Text, Button as GaButton, theme } from 'galio-framework';\n\nimport { Button, Icon, Input } from '../components';\nimport { Images, nowTheme } from '../constants';\n\n// these include function call login action and update state if necessary.\nimport {createStore, combineReducers} from 'redux';\nimport { Provider ,useDispatch, useSelector} from 'react-redux';\nimport {store} from '../plugin/redux/store'\nimport { authenticateActions } from '../action/authenticateActions';\nimport {locationActions} from '../action/locationActions';\nimport {requestActions} from '../action/requestActions';\n\n\n//testing route\nimport Constants, { AppOwnership } from \"expo-constants\";\nimport {Asset} from \"expo-asset\"\nconst { manifest,platform ,experienceUrl,intentUri,appOwnership} = Constants;\nimport {getIpAddressAsync,getMacAddressAsync,getNetworkStateAsync} from \"expo-network\";\n\nconst url = (typeof manifest.packagerOpts === `object`) && manifest.packagerOpts.dev\n  ? manifest.debuggerHost.split(`:`).shift().concat(`:3000`)\n  : `api.example.com`;\n\n\nconst { width, height } = Dimensions.get('screen');\n\nconst DismissKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>{children}</TouchableWithoutFeedback>\n);\n\n// class Login extends React.Component {\n//   render() {\n//       const [inputs, setInputs] = useState({\n//           username: '',\n//           password: ''\n//       });\n//       const [submitted, setSubmitted] = useState(false);\n//       const { username, password } = inputs;\n//       const loggingIn = useSelector(state => state.authentication.loggingIn);\n//       const dispatch = useDispatch();\n//       const location = useLocation();\n\n//       // reset login status\n//       useEffect(() => { \n//           dispatch(userauthenticateActions.logout()); \n//       }, []);\n\n//       function handleChange(e) {\n//           const { name, value } = e.target;\n//           setInputs(inputs => ({ ...inputs, [name]: value }));\n//       }\n//       const { navigation } = this.props;\n//     return (\n//             <DismissKeyboard>\n//         <Block flex middle>\n//           <ImageBackground\n//             source={Images.RegisterBackground}\n//             style={styles.imageBackgroundContainer}\n//             imageStyle={styles.imageBackground}\n//           >\n//             <Block flex middle>\n//               <Block style={styles.registerContainer}>\n//                 <ScrollView\n//                 showsVerticalScrollIndicator={false}\n//                 contentContainerStyle={styles.articles}\n//                 >\n//                     <Block flex space=\"evenly\">\n//                     <Block flex={0.4} middle style={styles.socialConnect}>\n//                         <Block flex={0.5} middle>\n//                         <Text\n//                             style={{\n//                             fontFamily: 'montserrat-regular',\n//                             textAlign: 'center'\n//                             }}\n//                             color=\"#333\"\n//                             size={24}\n//                         >\n//                             Login\n//                         </Text>\n//                         </Block>\n\n//                         {/* <Block flex={0.5} row middle space=\"between\" style={{ marginBottom: 18 }}>\n//                         <GaButton\n//                             round\n//                             onlyIcon\n//                             shadowless\n//                             icon=\"twitter\"\n//                             iconFamily=\"Font-Awesome\"\n//                             iconColor={theme.COLORS.WHITE}\n//                             iconSize={theme.SIZES.BASE * 1.625}\n//                             color={nowTheme.COLORS.TWITTER}\n//                             style={[styles.social, styles.shadow]}\n//                         />\n\n//                         <GaButton\n//                             round\n//                             onlyIcon\n//                             shadowless\n//                             icon=\"dribbble\"\n//                             iconFamily=\"Font-Awesome\"\n//                             iconColor={theme.COLORS.WHITE}\n//                             iconSize={theme.SIZES.BASE * 1.625}\n//                             color={nowTheme.COLORS.DRIBBBLE}\n//                             style={[styles.social, styles.shadow]}\n//                         />\n//                         <GaButton\n//                             round\n//                             onlyIcon\n//                             shadowless\n//                             icon=\"facebook\"\n//                             iconFamily=\"Font-Awesome\"\n//                             iconColor={theme.COLORS.WHITE}\n//                             iconSize={theme.SIZES.BASE * 1.625}\n//                             color={nowTheme.COLORS.FACEBOOK}\n//                             style={[styles.social, styles.shadow]}\n//                         />\n//                         </Block> */}\n//                     </Block>\n                    \n//                     <Block flex={1} middle space=\"between\">\n//                         <Block center flex={0.9}>\n//                         <Block flex space=\"between\">\n//                             <Block>\n//                             <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n//                                 <Input\n//                                 placeholder=\"Username\"\n//                                 onChangeText={text => setUsername(text)}\n//                                 value = {username}\n//                                 style={styles.inputs}\n//                                 iconContent={\n//                                     <Icon\n//                                     size={16}\n//                                     color=\"#ADB5BD\"\n//                                     name=\"profile-circle\"\n//                                     family=\"NowExtra\"\n//                                     style={styles.inputIcons}\n//                                     />\n//                                 }\n//                                 />\n//                             </Block>\n//                             <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n//                                 <Input\n//                                 placeholder=\"Password\"\n//                                 style={styles.inputs}\n//                                 onChangeText={text => setPassword(text)}\n//                                 value = {password}\n                                \n//                                 iconContent={\n//                                     <Icon\n//                                     size={16}\n//                                     color=\"#ADB5BD\"\n//                                     name=\"caps-small2x\"\n//                                     family=\"NowExtra\"\n//                                     style={styles.inputIcons}\n//                                     />\n//                                 }\n//                                 />\n//                             </Block>\n//                             <Block width={width * 0.8}>\n//                                 <Input\n//                                 placeholder=\"Email\"\n//                                 style={styles.inputs}\n//                                 iconContent={\n//                                     <Icon\n//                                     size={16}\n//                                     color=\"#ADB5BD\"\n//                                     name=\"email-852x\"\n//                                     family=\"NowExtra\"\n//                                     style={styles.inputIcons}\n//                                     />\n//                                 }\n//                                 />\n//                             </Block>\n//                             {/* <Block\n//                                 style={{ marginVertical: theme.SIZES.BASE, marginLeft: 15}}\n//                                 row\n//                                 width={width * 0.75}\n//                             >\n//                                 <Checkbox\n//                                 checkboxStyle={{\n//                                     borderWidth: 1,\n//                                     borderRadius: 2,\n//                                     borderColor: '#E3E3E3'\n//                                 }}\n//                                 color={nowTheme.COLORS.PRIMARY}\n//                                 labelStyle={{\n//                                     color: nowTheme.COLORS.HEADER,\n//                                     fontFamily: 'montserrat-regular'\n//                                 }}\n//                                 label=\"I agree to the terms and conditions.\"\n//                                 />\n//                             </Block> */}\n//                             </Block>\n//                             <Block center>\n//                             <Button color=\"primary\" round style={styles.createButton} onPress={() => useDispatch(authenticateActions.login({username: username,password:password}))}>\n//                                 <Text\n//                                 style={{ fontFamily: 'montserrat-bold' }}\n//                                 size={14}\n//                                 color={nowTheme.COLORS.WHITE}\n//                                 >\n//                                 Login\n//                                 </Text>\n//                             </Button>\n//                             </Block>\n//                             <Block center>\n//                             <Button color=\"primary\" round style={styles.createButton} onPress={() => navigation.goBack()}>\n//                             <Text\n//                                 style={{ fontFamily: 'montserrat-bold' }}\n//                                 size={14}\n//                                 color={nowTheme.COLORS.WHITE}\n//                                 >\n//                                 Forgot Password\n//                                 </Text>\n//                                 </Button>\n//                             </Block>\n//                             <Block center>\n//                             <Button color=\"primary\" round style={styles.createButton} onPress={() => navigation.goBack()}>\n//                             <Text\n//                                 style={{ fontFamily: 'montserrat-bold' }}\n//                                 size={14}\n//                                 color={nowTheme.COLORS.WHITE}\n//                                 >\n//                                 Back\n//                                 </Text>\n//                                 </Button>\n//                             </Block>\n//                         </Block>\n//                         </Block>\n//                     </Block>\n//                     </Block>\n//                 </ScrollView>\n//               </Block>\n//             </Block>\n//           </ImageBackground>\n//         </Block>\n//       </DismissKeyboard>\n      \n//     );\n//   }\n// }\n\n\nfunction Login(props){\n  const { navigation } = props;\n  \n  console.log(store.getState().authenticateReducer.isLoggedIn)\n  if(store.getState().authenticateReducer.isLoggedIn){\n    console.log('yo');\n    \n    \n  }\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isRefresh, setIsRefresh] = useState(false);\n  \n  \n//   const [inputs, setInputs] = useState({\n//     username: '',\n//     password: ''\n// });\n// const [submitted, setSubmitted] = useState(false);\n// const { username, password } = inputs;\n// const loggingIn = useSelector(state => state.authentication.loggingIn);\nconst dispatch = useDispatch();\n// const location = useLocation();\n\n// reset login status\nuseFocusEffect(() => {\n  \n    \n}, []);\n\n// function handleChange(e) {\n//     const { name, value } = e.target;\n//     setInputs(inputs => ({ ...inputs, [name]: value }));\n// }\nfunction test(){\n  // setIsRefresh(true);\n}\nfunction handleSubmit(e) {\n  // e.preventDefault();\n  console.log(\"running handle submit\")\n  // setSubmitted(true);\n  if (username && password) {\n      // get return url from location state or default to home page\n      // const { from } = location.state || { from: { pathname: \"/\" } };\n      let name = \"App\";\n      dispatch(authenticateActions.login(username, password,navigation,name)).then(res=>{\n        console.log(\"hehe\",res);\n        dispatch(locationActions.queryLocation());\n        dispatch(requestActions.query(\"\",\"\",\"\",true));\n      }).catch(err=>{\n        console.log(err);\n      })\n      if(store.getState().authenticateReducer.isLoggedIn){\n        console.log(\"truela\");\n      }else{\n        console.log(\"falsela\");\n      }\n  }\n  test()\n}\n  \n\n\n    return (\n\n      <DismissKeyboard>\n        <Block flex middle>\n          <ImageBackground\n            source={Images.RegisterBackground}\n            style={styles.imageBackgroundContainer}\n            imageStyle={styles.imageBackground}\n          >\n            <Block flex middle>\n              <Block style={styles.registerContainer}>\n                <ScrollView\n                showsVerticalScrollIndicator={true}\n                contentContainerStyle={styles.articles}\n                >\n                    <Block flex space=\"evenly\">\n                    <Block height={100} flex space=\"evenly\">\n                    \n                    </Block>\n                    <Block flex={0.4} middle style={styles.socialConnect}>\n                        <Block flex={0.5} middle>\n                        <Text\n                            style={{\n                            fontFamily: 'montserrat-regular',\n                            textAlign: 'center'\n                            }}\n                            color=\"#333\"\n                            size={24}\n                        >\n                            Logins\n                        </Text>\n                        </Block>\n\n                        {/* <Block flex={0.5} row middle space=\"between\" style={{ marginBottom: 18 }}>\n                        <GaButton\n                            round\n                            onlyIcon\n                            shadowless\n                            icon=\"twitter\"\n                            iconFamily=\"Font-Awesome\"\n                            iconColor={theme.COLORS.WHITE}\n                            iconSize={theme.SIZES.BASE * 1.625}\n                            color={nowTheme.COLORS.TWITTER}\n                            style={[styles.social, styles.shadow]}\n                        />\n\n                        <GaButton\n                            round\n                            onlyIcon\n                            shadowless\n                            icon=\"dribbble\"\n                            iconFamily=\"Font-Awesome\"\n                            iconColor={theme.COLORS.WHITE}\n                            iconSize={theme.SIZES.BASE * 1.625}\n                            color={nowTheme.COLORS.DRIBBBLE}\n                            style={[styles.social, styles.shadow]}\n                        />\n                        <GaButton\n                            round\n                            onlyIcon\n                            shadowless\n                            icon=\"facebook\"\n                            iconFamily=\"Font-Awesome\"\n                            iconColor={theme.COLORS.WHITE}\n                            iconSize={theme.SIZES.BASE * 1.625}\n                            color={nowTheme.COLORS.FACEBOOK}\n                            style={[styles.social, styles.shadow]}\n                        />\n                        </Block> */}\n                    </Block>\n                    \n                    <Block flex={1} middle space=\"between\">\n                        <Block center flex={0.9}>\n                        <Block flex space=\"between\">\n                            <Block>\n                            <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n                                <Input\n                                placeholder=\"Usernamessss\"\n                                onChangeText={text => setUsername(text)}\n                                value = {username}\n                                style={styles.inputs}\n                                iconContent={\n                                    <Icon\n                                    size={16}\n                                    color=\"#ADB5BD\"\n                                    name=\"profile-circle\"\n                                    family=\"NowExtra\"\n                                    style={styles.inputIcons}\n                                    />\n                                }\n                                />\n                            </Block>\n                            <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n                                <Input\n                                placeholder=\"Password\"\n                                style={styles.inputs}\n                                onChangeText={text => setPassword(text)}\n                                value = {password}\n                                \n                                iconContent={\n                                    <Icon\n                                    size={16}\n                                    color=\"#ADB5BD\"\n                                    name=\"caps-small2x\"\n                                    family=\"NowExtra\"\n                                    style={styles.inputIcons}\n                                    />\n                                }\n                                />\n                            </Block>\n                            \n                            {/* <Block\n                                style={{ marginVertical: theme.SIZES.BASE, marginLeft: 15}}\n                                row\n                                width={width * 0.75}\n                            >\n                                <Checkbox\n                                checkboxStyle={{\n                                    borderWidth: 1,\n                                    borderRadius: 2,\n                                    borderColor: '#E3E3E3'\n                                }}\n                                color={nowTheme.COLORS.PRIMARY}\n                                labelStyle={{\n                                    color: nowTheme.COLORS.HEADER,\n                                    fontFamily: 'montserrat-regular'\n                                }}\n                                label=\"I agree to the terms and conditions.\"\n                                />\n                            </Block> */}\n                            </Block>\n                            <Block center>\n                            <Button color=\"primary\" round style={styles.createButton} onPress={() => handleSubmit()}>\n                              \n                                <Text\n                                style={{ fontFamily: 'montserrat-bold' }}\n                                size={14}\n                                color={nowTheme.COLORS.WHITE}\n                                >\n                                Login\n                                </Text>\n                            </Button>\n                            </Block>\n                            <Block center>\n                            <Button color=\"primary\" round style={styles.createButton} onPress={\n                              () => {console.log(manifest.bundleUrl,\"  yo  \",manifest.packagerOpts,manifest.packagerOpts.dev,platform,experienceUrl,intentUri,appOwnership,\n                                       \"url\",url,\"hehe\");\n                                       getMacAddressAsync().then(res=>{console.log(\"res\",res)})\n                                       getIpAddressAsync().then(res=>{console.log(\"res\",res)})\n                                       getNetworkStateAsync().then(res=>{console.log(\"res\",res)})\n                                       console.log(Asset);\n                              }   \n                                       }>\n                            <Text\n                                style={{ fontFamily: 'montserrat-bold' }}\n                                size={14}\n                                color={nowTheme.COLORS.WHITE}\n                                >\n                                Forgot Password\n                                </Text>\n                                </Button>\n                            </Block>\n                            <Block center>\n                            <Button color=\"primary\" round style={styles.createButton} onPress={() => navigation.goBack()}>\n                            <Text\n                                style={{ fontFamily: 'montserrat-bold' }}\n                                size={14}\n                                color={nowTheme.COLORS.WHITE}\n                                >\n                                Back\n                                </Text>\n                                </Button>\n                            </Block>\n                        </Block>\n                        </Block>\n                    </Block>\n                    </Block>\n                </ScrollView>\n              </Block>\n            </Block>\n          </ImageBackground>\n        </Block>\n      </DismissKeyboard>\n    );\n  }\n\n\nconst styles = StyleSheet.create({\n  imageBackgroundContainer: {\n    width: width,\n    height: height,\n    padding: 0,\n    zIndex: 1\n  },\n  imageBackground: {\n    width: width,\n    height: height\n  },\n  registerContainer: {\n    marginTop: 55,\n    width: width * 0.9,\n    height: height < 812 ? height * 0.8 : height * 0.8,\n    backgroundColor: nowTheme.COLORS.WHITE,\n    borderRadius: 4,\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1,\n    overflow: 'hidden'\n  },\n  socialConnect: {\n    backgroundColor: nowTheme.COLORS.WHITE\n    // borderBottomWidth: StyleSheet.hairlineWidth,\n    // borderColor: \"rgba(136, 152, 170, 0.3)\"\n  },\n  socialButtons: {\n    width: 120,\n    height: 40,\n    backgroundColor: '#fff',\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1\n  },\n  socialTextButtons: {\n    color: nowTheme.COLORS.PRIMARY,\n    fontWeight: '800',\n    fontSize: 14\n  },\n  inputIcons: {\n    marginRight: 12,\n    color: nowTheme.COLORS.ICON_INPUT\n  },\n  inputs: {\n    borderWidth: 1,\n    borderColor: '#E3E3E3',\n    borderRadius: 21.5\n  },\n  passwordCheck: {\n    paddingLeft: 2,\n    paddingTop: 6,\n    paddingBottom: 15\n  },\n  createButton: {\n    width: width * 0.5,\n    marginTop: 15,\n    marginBottom: 20\n  },\n  social: {\n    width: theme.SIZES.BASE * 3.5,\n    height: theme.SIZES.BASE * 3.5,\n    borderRadius: theme.SIZES.BASE * 1.75,\n    justifyContent: 'center',\n    marginHorizontal: 10\n  }\n});\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}