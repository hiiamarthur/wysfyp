{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import{useFocusEffect}from\"@react-navigation/native\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{Block,Text,theme,Button as GaButton}from'galio-framework';import{articles,nowTheme}from\"../constants/\";import{Button,Card,Icon}from\"../components/\";import{Provider,useDispatch,useSelector}from'react-redux';import{store}from\"../plugin/redux/store\";import{locationActions}from\"../action/locationActions\";import Articles from\"./Articles\";import{IconButton}from'react-native-paper';function location(props){var navigation=props.navigation;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],useCards=_useState2[1];var articlesArr=[];var cardArr=[];var datas=[];useEffect(function(){});console.log(cards.length);var x;console.log(\"yoyoyoyo\");console.log(props);if(store.getState().locationReducer.data){datas=store.getState().locationReducer.data;}console.log(datas);for(x in datas){var articleBody={title:datas[x].district2+\"-\"+datas[x].district,description:datas[x].name,image:require(\"../assets/imgs/project15.jpg\"),cta:\"See details...\",horizontal:true};articlesArr.push(articleBody);cardArr.push(React.createElement(Card,{item:articleBody,locationId:datas[x].destinationID,horizontal:true}));}function renderCards(){return React.createElement(Block,{style:styles.container},React.createElement(Text,{size:16,style:styles.title},\"location:\"),React.createElement(Block,{row:true,center:true,space:\"between\"},React.createElement(Block,{flex:true,middle:true,right:true})),cardArr,React.createElement(TouchableOpacity,{activeOpacity:0.7,style:styles.touchableOpacityStyle}));};return React.createElement(Block,{flex:true},React.createElement(ScrollView,{showsVerticalScrollIndicator:false},renderCards()));}var styles=StyleSheet.create({container:{paddingHorizontal:theme.SIZES.BASE},title:{fontFamily:'montserrat-bold',paddingBottom:theme.SIZES.BASE,marginTop:44,color:nowTheme.COLORS.HEADER},touchableOpacityStyle:{position:'absolute',width:50,height:50,alignItems:'center',justifyContent:'center',right:30,bottom:30},button:{width:theme.SIZES.BASE*3.5,height:theme.SIZES.BASE*3.5,borderRadius:theme.SIZES.BASE*1.75,justifyContent:'center'},floatingButtonStyle:{resizeMode:'contain',width:50,height:50}});export default location;","map":{"version":3,"sources":["/Users/yhlau/Arthur/project/wysfyp/frontend副本/screens/location.js"],"names":["React","useState","useEffect","useFocusEffect","Block","Text","theme","Button","GaButton","articles","nowTheme","Card","Icon","Provider","useDispatch","useSelector","store","locationActions","Articles","IconButton","location","props","navigation","dispatch","cards","useCards","articlesArr","cardArr","datas","console","log","length","x","getState","locationReducer","data","articleBody","title","district2","district","description","name","image","require","cta","horizontal","push","destinationID","renderCards","styles","container","touchableOpacityStyle","StyleSheet","create","paddingHorizontal","SIZES","BASE","fontFamily","paddingBottom","marginTop","color","COLORS","HEADER","position","width","height","alignItems","justifyContent","right","bottom","button","borderRadius","floatingButtonStyle","resizeMode"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect} from 'react';\nimport {useFocusEffect} from \"@react-navigation/native\";   \nimport { ScrollView, StyleSheet, Image,TouchableOpacity } from 'react-native';\n//galio\nimport { Block, Text, theme ,Button as GaButton} from 'galio-framework';\nimport { articles, nowTheme } from '../constants/';\nimport { Button,Card,Icon } from '../components/';\n\nimport { Provider ,useDispatch, useSelector} from 'react-redux';\nimport {store} from '../plugin/redux/store'\nimport {locationActions} from '../action/locationActions';\nimport Articles from './Articles';\nimport { IconButton } from 'react-native-paper';\n\n// {\n//   title: 'The time is now for it to be okay to be',\n//   image: require(\"../assets/imgs/project15.jpg\"),\n//   cta: 'View article',\n//   horizontal: true\n// },\n// {\n//   title: '$377',\n//   image: require(\"../assets/imgs/saint-laurent.jpg\"),\n//   subtitle: 'Black Jacket',\n//   description:\n//     'The structured shoulders and sleek detailing ensure a sharp silhouette. Team it with a silk pocket.',\n//   horizontal: true\n// },\n\nfunction location(props) {\n  const { navigation } = props;\n  const dispatch = useDispatch();\n  // const [datas,usedata] = useState({});\n  const [cards,useCards] = useState([]);\n  let articlesArr = [];\n  var cardArr = [];\n  var datas = [];\n  useEffect(()=>{\n    \n  })\n  console.log(cards.length);\n  var x;\n    console.log(\"yoyoyoyo\");\n    console.log(props);\n    if(store.getState().locationReducer.data){\n      // usedata(store.getState().locationReducer.data\n      datas = store.getState().locationReducer.data;\n    }\n    // let res = locationActions.queryLocation();\n    // res.then(res=>{\n    //     usedata(res.data.data);\n    // })  \n\n    // usedata(res);\n    console.log(datas);\n    for (x in datas){\n      \n      let articleBody = {\n          title: datas[x].district2 + \"-\"+datas[x].district,\n          description: datas[x].name,\n          image: require(\"../assets/imgs/project15.jpg\"),\n          cta: \"See details...\",\n          horizontal: true,\n      }\n\n      articlesArr.push(articleBody);\n      cardArr.push(\n        <Card item={articleBody} locationId={datas[x].destinationID} horizontal />\n        )\n      \n    }\n    // useCards(cardArr);\n//   console.log(store.getState().locationReducer.data.data);\n//     for (x in store.getState().locationReducer.data.data){\n//       console.log(\"xd\")\n//       let articleBody = {\n//         title: store.getState().locationReducer.data.data[x].title,\n//         description: store.getState().locationReducer.data.data[x].description,\n//         image: require(\"../assets/imgs/project15.jpg\"),\n//         cta: \"See details...\",\n//         horizontal: true,\n//       }\n//       articlesArr.push(articleBody);\n//     }\n//     for (x in articlesArr){\n//       cards.push(\n//         <Card item={articlesArr[x]} locationId={store.getState().locationReducer.data.data[x].locationID} horizontal />\n//       )\n//     }\n  function renderCards(){\n    \n    return (\n      <Block style={styles.container}>\n        \n      <Text size={16} style={styles.title}>\n        location:\n      </Text>\n      <Block row center space=\"between\">\n      <Block flex middle right>\n        {/* <GaButton\n                round\n                onlyIcon\n                shadowless\n                icon=\"plus\"\n                iconFamily=\"Font-Awesome\"\n                iconColor={theme.COLORS.WHITE}\n                iconSize={theme.SIZES.BASE * 1.625}\n                color={nowTheme.COLORS.FACEBOOK}\n                style={[styles.button]}\n                onPress={()=>{navigation.navigate('Form')}}\n              /> */}\n      </Block>\n      \n      </Block>\n      \n        {cardArr}\n\n        {/* <Card item={articlesArr[0]} horizontal /> */}\n        {/* <Card item={articles[0]} horizontal />\n        <Block flex row>\n          <Card item={articles[1]} style={{ marginRight: theme.SIZES.BASE }} />\n          <Card item={articles[2]} />\n        </Block>\n        <Block flex row>\n          <Card item={articles[1]} style={{ marginRight: theme.SIZES.BASE }} />\n          <Card item={articles[2]} />\n        </Block>\n        <Card item={articles[3]} horizontal />\n        <Card item={articles[5]} full /> */}\n        <TouchableOpacity\n        activeOpacity={0.7}\n          // onPress={clickHandler}\n          style={styles.touchableOpacityStyle}>\n          {/* <Image\n            // FAB using TouchableOpacity with an image\n            // For online image\n            source={{\n              uri:\n                'https://raw.githubusercontent.com/AboutReact/sampleresource/master/plus_icon.png',\n            }}\n            // For local image\n            //source={require('./images/float-add-icon.png')}\n            style={styles.floatingButtonStyle}\n          />   */}\n          </TouchableOpacity>\n      </Block>\n    );\n  };\n\n  \n  return (\n    <Block flex>\n      <ScrollView showsVerticalScrollIndicator={false}>{renderCards()}</ScrollView>\n    </Block>\n  );\n  \n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: theme.SIZES.BASE\n  },\n  title: {\n    fontFamily: 'montserrat-bold',\n    paddingBottom: theme.SIZES.BASE,\n    marginTop: 44,\n    color: nowTheme.COLORS.HEADER\n  },\n  touchableOpacityStyle: {\n    //Here is the trick\n    position: 'absolute',\n    width: 50,\n    height: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: 30,\n    bottom: 30,\n },\n button: {\n  width: theme.SIZES.BASE * 3.5,\n  height: theme.SIZES.BASE * 3.5,\n  borderRadius: theme.SIZES.BASE * 1.75,\n  justifyContent: 'center',\n  // position: \"relative\"\n},\n floatingButtonStyle: {\n    resizeMode: 'contain',\n    width: 50,\n    height: 50,\n    //backgroundColor:'black'\n  },\n});\n\nexport default location;"]},"metadata":{},"sourceType":"module"}